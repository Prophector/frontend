<ng-container *ngIf="countryData">
  <div class="overflow-hidden">
    <h3 class="float-start me-3">{{ countryData.name }}</h3>

    <a
      [routerLink]="['/chart-analysis']"
      [queryParams]="{ region: countryData.isoCode }"
      class="btn btn-primary float-end"
      >&rarr; Analyze</a
    >
  </div>

  <table class="table mb-5 mt-3">
    <tbody>
      <tr>
        <th>Population</th>
        <td class="text-end">{{ countryData.population | number }}</td>
      </tr>
      <tr>
        <td colspan="2"></td>
      </tr>
      <tr>
        <td colspan="2">
          <label for="timeFrame" class="visually-hidden">Totals</label>
          <select
            id="timeFrame"
            name="timeFrame"
            class="form-select"
            [(ngModel)]="timeFrame"
            (ngModelChange)="updateStats()"
            appNumberOnly
          >
            <option value="0">Total</option>
            <option value="1">last day</option>
            <option value="7">last 7 days</option>
            <option value="10">last 10 days</option>
            <option value="14">last 14 days</option>
          </select>
        </td>
      </tr>
      <tr>
        <th>Cases</th>
        <td class="text-end">{{ cases != null ? (cases | number) : 'n/a' }}</td>
      </tr>
      <tr>
        <th>Fatalities</th>
        <td class="text-end">{{ deaths != null ? (deaths | number) : 'n/a' }}</td>
      </tr>
      <tr>
        <th>Tests</th>
        <td class="text-end">{{ tests != null ? (tests | number) : 'n/a' }}</td>
      </tr>
      <tr>
        <th>Tests Positivity</th>
        <td class="text-end">{{ testPositivity != null ? (100 * testPositivity | number) + '%' : 'n/a' }}</td>
      </tr>
      <tr>
        <th>Vaccinations</th>
        <td class="text-end">{{ vaccinations != null ? (vaccinations | number) : 'n/a' }}</td>
      </tr>
    </tbody>
  </table>
</ng-container>
